---
title: "UCI Online Retail ‚Äî Human Behavior in Transactions"
subtitle: "Line-item invoices for a UK e-commerce retailer, 2010‚Äì2011."
description: "A rich log of every product, basket, and return for a gift-oriented UK online retailer ‚Äî a natural playground for basket analysis, seasonality, and long-tail behavior."
categories: [datasets, ecommerce, human-behavior, economics, data-science]
keywords: [
  "UCI Online Retail dataset",
  "market basket analysis",
  "basket analysis",
  "ecommerce transactions",
  "RFM segmentation",
  "customer behavior",
  "long tail",
  "seasonality",
  "co-occurrence networks",
  "UK online retail"
]
# format and other global options inherited from _quarto.yml
---

<!-- Dataset Badge -->

<p class="dataset-header-badge">

<img src="../images/dataset-icons/uci-online-retail.svg" class="dataset-icon-hero" aria-hidden="true"/>

</p>

<!-- Hero Header -->

<section class="hero">
  <h1><span aria-hidden="true">üõíÔ∏è</span> UCI Online Retail ‚Äî Human Behavior in Transactions</h1>
  <h2 class="hero-subtitle">Line-item invoices for a UK e-commerce retailer, 2010‚Äì2011.</h2>
  <p class="hero-text">
    A rich log of every product, basket, and return for a gift-oriented UK online retailer ‚Äî a natural playground for basket analysis, seasonality, and long-tail behavior.
  </p>
</section>

<!-- Refer to Dataset Icon Language -->
<p class="dataset-subnav">
  <a href="../dataset-icon-language.html" class="small-link">
    What does this icon mean?
  </a>
</p>

# üßæ What is this dataset?

The **UCI Online Retail dataset** is a log of **541,909 line-item invoice records** from a **UK-based, non-store online retailer** that mainly sells **unique ‚Äúall-occasion‚Äù giftware**, with many customers being wholesalers.

It captures every item on every invoice between **1 December 2010 and 9 December 2011**, including cancellations.

In other words, this is **a year of human shopping behavior**, expressed as a table: who bought what, when, how much, and from where.

------------------------------------------------------------------------

# üì¶ What‚Äôs inside the table?

At its core, the dataset has one row per **line item on an invoice**. A typical schema (as implemented in several R/Python wrappers) looks like this:

-   **InvoiceNo** ‚Äì 6-digit code for each transaction (if it starts with `C`, it indicates a cancellation/return).\
-   **StockCode** ‚Äì product code for each distinct item.\
-   **Description** ‚Äì human-readable product name.\
-   **Quantity** ‚Äì number of units purchased (can be negative for returns).\
-   **InvoiceDate** ‚Äì date and time when the invoice was generated.\
-   **UnitPrice** ‚Äì price per unit (in sterling).\
-   **CustomerID** ‚Äì numeric customer identifier.\
-   **Country** ‚Äì country where the customer resides.

From just these columns, you can reconstruct:

-   **Baskets** (all items sharing an InvoiceNo).\
-   **Customer histories** (all rows sharing a CustomerID).\
-   **Time series** (grouping by InvoiceDate at various granularities).\
-   **Geography** (by Country).

------------------------------------------------------------------------

# üß† Why it‚Äôs worthy of attention

This dataset sits at the crossroads of **behavior, business, and complexity**:

-   **Basket analysis playground**
    -   Classic **market-basket rules** (‚Äúpeople who buy X also buy Y‚Äù) are almost textbook-designed for this data.\
    -   You get thousands of distinct products, allowing both obvious and surprising co-occurrence patterns.
-   **Seasonality and calendar stories**
    -   The time window includes **major holidays**, especially the end-of-year gift season, giving rich **weekly and seasonal cycles** in purchases, returns, and order sizes.
-   **Long-tail dynamics**
    -   A few products sell constantly, but many sell rarely ‚Äî a **long-tail distribution** that invites questions about variety, niche goods, and the economics of ‚Äújust-in-case‚Äù inventory.
-   **Customer lifetime & churn signals**
    -   Because customers are identified (when CustomerID is present), you can study **recency-frequency-monetary (RFM)** patterns, churn, and loyalty ‚Äî echoing the original RFM-based segmentation work that motivated this dataset.

This is not just ‚Äútransaction data‚Äù; it‚Äôs a **behavioral trace** of how people assemble baskets when buying gifts.

------------------------------------------------------------------------

# üîç How the data was collected (and what it represents)

According to the UCI documentation, the dataset comes from a **real, UK-registered online retailer** that sells ‚Äúunique all-occasion gifts,‚Äù mainly to customers in the UK and Europe, with many wholesale buyers.

Key characteristics:

-   **Non-store retailer** ‚Äì everything happens online; no in-person point-of-sale data.\
-   **Gift-oriented** ‚Äì products often have ‚Äúgift set,‚Äù ‚Äúdecor,‚Äù or ‚Äúparty‚Äù flavors, which shapes basket composition and seasonality.\
-   **Wholesale flavor** ‚Äì large quantities and repeat orders from some customers, useful for differentiating **B2B vs B2C behavior**.

The original analysis that accompanied this dataset used it to demonstrate **data mining and customer segmentation** for online retail, especially via RFM and clustering techniques.

------------------------------------------------------------------------

# üß∫ What kinds of questions can you ask?

This dataset is endlessly re-usable because it naturally supports multiple ‚Äúlenses‚Äù:

### ü§ù Basket & co-occurrence questions

-   Which items **tend to appear together** on the same invoice?\
-   Are there **‚Äúanchor products‚Äù** that pull entire families of accessories into the cart?\
-   Can we build **product co-occurrence networks** where communities reveal natural ‚Äúgift themes‚Äù?

### üìÖ Time & seasonality questions

-   How does **order volume** vary by day of week and month?\
-   Are returns clustered at particular **post-holiday dates**?\
-   Do customers exhibit **weekend vs weekday personalities** (tiny impulse orders vs big planned baskets)?

### üë• Customer & behavior questions

-   How do **first-time buyers** differ from **repeat buyers** in basket size, product mix, and return behavior?\
-   Can RFM-style segmentation uncover **distinct customer archetypes** (e.g., ‚Äúlast-minute gifters,‚Äù ‚Äúbulk wholesalers,‚Äù ‚Äúcurious one-off browsers‚Äù)?\
-   How does **churn risk** change after a return or a negative experience hinted by high cancellation rates?

### üåç Geography & market structure questions

-   Which countries rely more on **wholesale-like orders** (large quantities, repeated SKUs)?\
-   Are there **regional favorites** that almost never appear elsewhere?

------------------------------------------------------------------------

# ‚ú® Story sparks

Here are some story directions tailored to this dataset that **lean into narrative and visuals**:

### üï∏Ô∏è ‚ÄúThe Hidden Gift Graph‚Äù

> **Product co-occurrence graphs** that show the hidden neighborhoods of the gift store.

-   Build a **network** where nodes are products and edges link items that frequently appear in the same invoice.\
-   Use community detection to find **gift ‚Äúecosystems‚Äù**‚Äîcozy tea sets with candles, party supplies that live near novelty mugs, etc.\
-   Visual angle: interactive graph + small multiples of communities, each with narrative labels like **‚ÄúCozy Evenings,‚Äù ‚ÄúOffice Banter,‚Äù ‚ÄúChildren‚Äôs Parties.‚Äù**

------------------------------------------------------------------------

### üß¨ ‚ÄúThe Long Tail of Little Joys‚Äù

> Exploring **long-tail dynamics**: thousands of products that each sell only rarely, but together shape the character of the store.

-   Plot the **sales rank vs frequency** to show the highly skewed distribution of product popularity.\
-   Tell the story of a few **rare, quirky products**: what baskets do they appear in, and which ‚Äúpower products‚Äù drag them into the cart?\
-   Frame this as a story about **variety vs efficiency**: what does it mean for a retailer to keep all these niche items alive?

------------------------------------------------------------------------

### üîÅ ‚ÄúArcs of Regret: The Anatomy of Returns‚Äù

> Tracking **return behavior arcs** across time and customers.

-   Use negative Quantities / cancellation invoices to define **returns**.\
-   Study the **time between purchase and return**, and whether certain product types or basket patterns are more return-prone.\
-   Build **‚Äúemotion arcs‚Äù**: e.g., a timeline per customer type (initial excitement with large baskets ‚Üí small return spike ‚Üí future purchase decisions).

------------------------------------------------------------------------

### üí∏ ‚ÄúInvisible Profit: Rare Combos That Matter‚Äù

> Identifying **rare combinations** that quietly contribute outsized revenue or margin.

-   Define ‚Äúrare but lucrative baskets‚Äù: baskets that occur infrequently but have high total value or margin.\
-   Explore **which products serve as bridges** between everyday items and niche, high-value pieces.\
-   This can become a story about **tiny configuration changes**‚Äîadding one complementary item‚Äîthat transform an ordinary basket into a highly profitable one.

------------------------------------------------------------------------

# üß™ Practical quirks, caveats & ethics

Before diving in, it helps to know where the sharp edges are:

-   **Missing IDs** ‚Äì some rows lack CustomerID; these can be used for anonymous, session-level stories but not customer-centric ones.\
-   **Cancellations and negative quantities** ‚Äì returns appear as invoices with `C` prefixes and negative Quantity; you‚Äôll need to decide whether to remove, net out, or explicitly model them.\
-   **Non-commercial use** ‚Äì multiple sources note that this dataset is provided for **research and educational purposes**, not for commercial targeting or productization.\
-   **No demographic detail** ‚Äì you see **behavior**, not personal identity. That‚Äôs a feature, not a bug: it keeps the focus on baskets and patterns rather than individuals.

From an ethics point of view, this dataset is a good sandbox for exploring **behavioral patterns** without drifting into invasive profiling. Still, it‚Äôs worth emphasizing in any story that this is **historical, anonymized data** used for learning, not live tracking.

------------------------------------------------------------------------

# üßë‚Äçüíª Getting started in R & Python

You might load the dataset in different ways depending on your tools.

### üü¶ In R

Several R packages mirror the UCI Online Retail data; one example is `BAdatasets::online_retail`:

``` r
# install.packages("BAdatasets")  # if needed
library(BAdatasets)
data("online_retail")

str(online_retail)
#> 'data.frame': 541909 obs. of  8 variables:
#>  $ InvoiceNo : chr ...
#>  $ StockCode : chr ...
#>  ...
```

You can then build:

-    **Baskets**: `dplyr::group_by(InvoiceNo)`

-    **Customer histories**: `group_by(CustomerID)`

-   **Daily totals**: `mutate(date = as.Date(InvoiceDate)) |> group_by(date)`

### üüß In Python

If you download the original Excel file (`Online Retail.xlsx`) from UCI, loading is straightforward:

``` python
import pandas as pd

df = pd.read_excel("Online Retail.xlsx")

df.head()
```

From there:

-    Build a **basket-level table** by grouping on `InvoiceNo`.

-   Create **RFM features** per `CustomerID`.

-   Construct **co-occurrence matrices** (e.g., with pivot tables) for market basket analysis.

# üìö References

-    **UCI Machine Learning Repository ‚Äì Online Retail Data Set.** University of California, Irvine. Describes the original 2010‚Äì2011 UK non-store online retail transactions, including schema and usage context. [[UCI Machine Learning Repository+2UCI Machine Learning Repository+2]{.underline}](https://archive.ics.uci.edu/dataset/352/online%2Bretail?utm_source=insightfultales.com){alt="https://archive.ics.uci.edu/dataset/352/online%2Bretail?utm_source=insightfultales.com"}

-   **Chen, D., Sain, S. L., & Guo, K. (2012).** *Data mining for the online retail industry: A case study of RFM model-based customer segmentation using data mining.* *Journal of Database Marketing & Customer Strategy Management, 19*(3), 197‚Äì208. Demonstrates RFM-based customer segmentation on this dataset. [[UCI Machine Learning Repository+1]{.underline}](https://archive.ics.uci.edu/dataset/352/online%2Bretail?utm_source=insightfultales.com){alt="https://archive.ics.uci.edu/dataset/352/online%2Bretail?utm_source=insightfultales.com"}

-   **Allan, J. (2024).** `online_retail` dataset in the **BAdatasets** R package. Provides a ready-to-use version of the UCI Online Retail data with clear column documentation. [[Rdrr.io]{.underline}](https://rdrr.io/github/jmsallan/BAdatasets/man/online_retail.html?utm_source=insightfultales.com){alt="https://rdrr.io/github/jmsallan/BAdatasets/man/online_retail.html?utm_source=insightfultales.com"}

-   **Selected public analyses.**

    -   Ehsan Behzadi, *Online Retail Data Analysis and Preprocessing* (GitHub), focusing on cleaning, EDA, RFM, and clustering. [[GitHub]{.underline}](https://github.com/Ehsan-Behzadi/Online-Retail-Data-Analysis-and-Preprocessing?utm_source=insightfultales.com){alt="https://github.com/Ehsan-Behzadi/Online-Retail-Data-Analysis-and-Preprocessing?utm_source=insightfultales.com"}

    -    Various Kaggle notebooks and blog posts exploring market basket analysis, customer clustering, and preprocessing strategies on this dataset. [[Kaggle+1]{.underline}](https://www.kaggle.com/code/ronak4249/online-retail-eda?utm_source=insightfultales.com){alt="https://www.kaggle.com/code/ronak4249/online-retail-eda?utm_source=insightfultales.com"}
